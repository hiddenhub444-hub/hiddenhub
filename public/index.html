<!DOCTYPE html>
<html>
<head>
    <title>H1DD3N PANEL</title>
    <style>
        body { background: #000; color: #8a2be2; font-family: 'Courier New', monospace; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .box { background: #0a0a0a; padding: 20px; border: 1px solid #8a2be2; width: 90%; max-width: 600px; text-align: center; }
        textarea { width: 100%; height: 200px; background: #000; color: #0f0; border: 1px solid #333; margin-bottom: 10px; }
        #rawBtn { background: #8a2be2; color: white; padding: 10px 20px; border: none; cursor: pointer; display: none; text-decoration: none; font-weight: bold; }
        #status { color: #555; font-size: 12px; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="box">
        <h2>H1DD3N SCRIPT GEN</h2>
        <textarea id="input" placeholder="Paste Lua Code Here..."></textarea><br>
        <button id="genBtn" onclick="generate()" style="background:#222; color:#fff; padding: 10px;">Create Raw Link</button>
        <a id="rawBtn" target="_blank">OPEN RAW LINK</a>
        <p id="status">Secure Session Active</p>
    </div>

    <script>
        async function generate() {
            const code = document.getElementById('input').value;
            if(!code) return;

            const response = await fetch('/generate', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ lua: code })
            });

            const data = await response.json();
            const rawUrl = window.location.origin + "/raw/" + data.id;
            
            const btn = document.getElementById('rawBtn');
            btn.href = rawUrl;
            btn.style.display = 'inline-block';
            
            navigator.clipboard.writeText('loadstring(game:HttpGet("' + rawUrl + '"))()');
            alert("Loadstring copied to clipboard!");
        }
    </script>
</body>
</html>
